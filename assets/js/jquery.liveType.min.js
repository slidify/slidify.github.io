$.fn.liveType=function(e){function s(){if(i.cursorEffect){$("span.cursor",n).animate({opacity:0},"fast","swing").animate({opacity:1},"fast","swing")}else{if($("span.cursor",n).is(":visible")){$("span.cursor",n).hide()}else{$("span.cursor",n).show()}}}function o(){cursor++;if(cursor<=text.length){if(i.pauseOnPunctuation){if(i.punctuationChars.indexOf(text.substr(cursor-2,1))>-1){clearTimeout(t);cursor++;setTimeout(o,i.pauseTime)}else{n.html(text.substr(0,cursor)+'<span class="cursor">'+i.cursor+"</span>");setTimeout(o,i.typeSpeed)}}else{if(cursor%i.pauseEvery){n.html(text.substr(0,cursor)+'<span class="cursor">'+i.cursor+"</span>");setTimeout(o,i.typeSpeed)}else{clearTimeout(t);cursor++;setTimeout(o,i.pauseTime)}}}}var n=this,r={typeSpeed:50,pauseEvery:40,pauseTime:1500,pauseOnPunctuation:true,punctuationChars:[".",".","?","!",":",";"],cursorEffect:true,cursorSpeed:500,cursor:"|"},i=$.extend(r,e);text=n.html();n.empty().append('<span class="cursor">'+i.cursor+"</span>");cursor=0;setInterval(s,i.cursorSpeed);t=setTimeout(o,i.typeSpeed)}